import{_ as D,I as A}from"./plugin-vueexport-helper-fba48285.js";import{L as E,a as F}from"./index-459da6a1.js";import{a as b,I as j}from"./dataApi-cacffe0c.js";import{f as N,u as R,e as T,r as n,g as U,c,o as q,k as r,p as w,j as m,i as s,h as p,F as z,D as J,a as i,t as g}from"./index-a7cc648c.js";import{c as M}from"./commonUtil-f278a290.js";const $={class:"card-container"},G=["onClick"],H={class:"card-content"},K={class:"card-name"},O={class:"duration"},P={__name:"CardsList",props:["dataSource"],emits:["update:dataSource"],setup(v,{emit:f}){const h=v,a=N();R();const C=T(),o=n(!1),d=n(!1),u=n(""),l=U({msg:{}}),x=c({get(){return a.getters["common/getCurrentVideo"]},set(e){a.dispatch("common/asyncCurrentVideo",e)}}),L=c({get(){return h.dataSource},set(e){f("update:dataSource",e)}});c({get(){return a.getters["common/getExpandActiveTag"]},set(e){a.dispatch("common/asyncExpandActiveTag",e)}});const k=()=>{u.value=M.getAssetsFile(L.value+".json"),b(u.value).then(e=>{l.msg=e,o.value=!1,d.value=!0})},y=e=>{x.value=e,C.push({path:"/video",query:{episode_num:1}})};return q(()=>{}),(e,_)=>{const S=E,I=j,V=A,B=F;return r(),w(B,{loading:o.value,"onUpdate:loading":_[0]||(_[0]=t=>o.value=t),finished:d.value,"finished-text":"没有更多了",onLoad:k},{default:m(()=>[s("div",$,[(r(!0),p(z,null,J(l.msg.records,(t,Q)=>(r(),p("div",{class:"m-card",onClick:W=>y(t)},[i(I,{class:"card-img",src:t.img},{loading:m(()=>[i(S,{type:"spinner",size:"20"})]),_:2},1032,["src"]),s("div",H,[s("div",K,g(t.title),1),s("div",O,[i(V,{name:"clock-o"}),s("span",null,g(t.duration),1)])])],8,G))),256))])]),_:1},8,["loading","finished"])}}},se=D(P,[["__scopeId","data-v-f0c5c7ba"]]);export{se as C};
