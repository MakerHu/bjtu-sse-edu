import{c as j,e as A,k as F,n as u,l as S,p as _,w as $,q as H,r as U,t as L}from"./index-9c8f557a.js";import{S as q,a as N}from"./index-b04040fc.js";import{I as O}from"./index-fda05d72.js";import{b as o,j as E,h as p,k as w,l as T,p as M,q as V,f as C,n as P,s as G,t as J,m as k,e as K,u as Q,a as W,v as X,w as x,o as B,c as Y,x as Z,F as ee}from"./index-7c8fba1a.js";import"./use-touch-2f418b84.js";const[te,d]=j("loading"),ne=Array(12).fill(null).map((e,a)=>o("i",{class:d("line",String(a+1))},null)),oe=o("svg",{class:d("circular"),viewBox:"25 25 50 50"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),ae={size:u,type:S("circular"),color:String,vertical:Boolean,textSize:u,textColor:String};var re=E({name:te,props:ae,setup(e,{slots:a}){const s=p(()=>A({color:e.color},F(e.size))),i=()=>{const n=e.type==="spinner"?ne:oe;return o("span",{class:d("spinner",e.type),style:s.value},[a.icon?a.icon():n])},r=()=>{var n;if(a.default)return o("span",{class:d("text"),style:{fontSize:_(e.textSize),color:(n=e.textColor)!=null?n:e.color}},[a.default()])};return()=>{const{type:n,vertical:c}=e;return o("div",{class:d([n,{vertical:c}]),"aria-live":"polite","aria-busy":!0},[i(),r()])}}});const se=$(re),[ie,l]=j("image"),ce={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:u,height:u,radius:u,lazyLoad:Boolean,iconSize:u,showError:L,errorIcon:S("photo-fail"),iconPrefix:String,showLoading:L,loadingIcon:S("photo")};var le=E({name:ie,props:ce,emits:["load","error"],setup(e,{emit:a,slots:s}){const i=w(!1),r=w(!0),n=w(),{$Lazyload:c}=T().proxy,y=p(()=>{const t={width:_(e.width),height:_(e.height)};return H(e.radius)&&(t.overflow="hidden",t.borderRadius=_(e.radius)),t});M(()=>e.src,()=>{i.value=!1,r.value=!0});const f=t=>{r.value&&(r.value=!1,a("load",t))},g=()=>{const t=new Event("load");Object.defineProperty(t,"target",{value:n.value,enumerable:!0}),f(t)},m=t=>{i.value=!0,r.value=!1,a("error",t)},h=(t,v,b)=>b?b():o(O,{name:t,size:e.iconSize,class:v,classPrefix:e.iconPrefix},null),D=()=>{if(r.value&&e.showLoading)return o("div",{class:l("loading")},[h(e.loadingIcon,l("loading-icon"),s.loading)]);if(i.value&&e.showError)return o("div",{class:l("error")},[h(e.errorIcon,l("error-icon"),s.error)])},R=()=>{if(i.value||!e.src)return;const t={alt:e.alt,class:l("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?G(o("img",k({ref:n},t),null),[[J("lazy"),e.src]]):o("img",k({ref:n,src:e.src,onLoad:f,onError:m},t),null)},I=({el:t})=>{const v=()=>{t===n.value&&r.value&&g()};n.value?v():P(v)},z=({el:t})=>{t===n.value&&!i.value&&m()};return c&&U&&(c.$on("loaded",I),c.$on("error",z),V(()=>{c.$off("loaded",I),c.$off("error",z)})),C(()=>{P(()=>{var t;(t=n.value)!=null&&t.complete&&!e.lazyLoad&&g()})}),()=>{var t;return o("div",{class:l({round:e.round,block:e.block}),style:y.value},[R(),D(),(t=s.default)==null?void 0:t.call(s)])}}});const ue=$(le);const de="/bjtu-sse-edu/assets/swipe1-53367f42.jpeg",fe="/bjtu-sse-edu/assets/swipe2-2fee8d71.jpg";const ge=(e,a)=>{const s=e.__vccOpts||e;for(const[i,r]of a)s[i]=r;return s},me={__name:"Home",setup(e){const a=K();Q(),W();const s=p({get(){return a.getters["common/getActivePage"]},set(r){a.dispatch("common/asyncUpdateActivePage",r)}}),i=[de,fe,"https://bjtu.edu.cn/images/img2019/logo_01.png"];return C(()=>{s.value="home"}),(r,n)=>{const c=se,y=ue,f=N,g=q;return B(),X(g,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:x(()=>[(B(),Y(ee,null,Z(i,(m,h)=>o(f,null,{default:x(()=>[o(y,{class:"swipe-img",src:m},{loading:x(()=>[o(c,{type:"spinner",size:"20"})]),_:2},1032,["src"])]),_:2},1024)),64))]),_:1})}}},xe=ge(me,[["__scopeId","data-v-15dd5e2d"]]);export{xe as default};
