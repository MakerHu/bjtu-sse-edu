import{c as B,e as R,k as A,n as u,l as h,p as _,w as $,q as H,r as U,t as P}from"./index-2823c140.js";import{S as q,a as N}from"./index-7e7bc82a.js";import{I as O}from"./index-4710fee3.js";import{b as n,j,h as w,k as y,l as T,p as F,q as M,f as E,n as L,s as V,t as G,m as k,e as J,u as K,a as Q,v as W,w as d,o as X}from"./index-bebe609b.js";import"./use-touch-2bd0881a.js";const[Y,f]=B("loading"),Z=Array(12).fill(null).map((e,a)=>n("i",{class:f("line",String(a+1))},null)),ee=n("svg",{class:f("circular"),viewBox:"25 25 50 50"},[n("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),te={size:u,type:h("circular"),color:String,vertical:Boolean,textSize:u,textColor:String};var ne=j({name:Y,props:te,setup(e,{slots:a}){const s=w(()=>R({color:e.color},A(e.size))),r=()=>{const o=e.type==="spinner"?Z:ee;return n("span",{class:f("spinner",e.type),style:s.value},[a.icon?a.icon():o])},i=()=>{var o;if(a.default)return n("span",{class:f("text"),style:{fontSize:_(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[a.default()])};return()=>{const{type:o,vertical:c}=e;return n("div",{class:f([o,{vertical:c}]),"aria-live":"polite","aria-busy":!0},[r(),i()])}}});const oe=$(ne),[ae,l]=B("image"),re={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:u,height:u,radius:u,lazyLoad:Boolean,iconSize:u,showError:P,errorIcon:h("photo-fail"),iconPrefix:String,showLoading:P,loadingIcon:h("photo")};var se=j({name:ae,props:re,emits:["load","error"],setup(e,{emit:a,slots:s}){const r=y(!1),i=y(!0),o=y(),{$Lazyload:c}=T().proxy,v=w(()=>{const t={width:_(e.width),height:_(e.height)};return H(e.radius)&&(t.overflow="hidden",t.borderRadius=_(e.radius)),t});F(()=>e.src,()=>{r.value=!1,i.value=!0});const g=t=>{i.value&&(i.value=!1,a("load",t))},S=()=>{const t=new Event("load");Object.defineProperty(t,"target",{value:o.value,enumerable:!0}),g(t)},x=t=>{r.value=!0,i.value=!1,a("error",t)},p=(t,m,b)=>b?b():n(O,{name:t,size:e.iconSize,class:m,classPrefix:e.iconPrefix},null),C=()=>{if(i.value&&e.showLoading)return n("div",{class:l("loading")},[p(e.loadingIcon,l("loading-icon"),s.loading)]);if(r.value&&e.showError)return n("div",{class:l("error")},[p(e.errorIcon,l("error-icon"),s.error)])},D=()=>{if(r.value||!e.src)return;const t={alt:e.alt,class:l("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?V(n("img",k({ref:o},t),null),[[G("lazy"),e.src]]):n("img",k({ref:o,src:e.src,onLoad:g,onError:x},t),null)},z=({el:t})=>{const m=()=>{t===o.value&&i.value&&S()};o.value?m():L(m)},I=({el:t})=>{t===o.value&&!r.value&&x()};return c&&U&&(c.$on("loaded",z),c.$on("error",I),M(()=>{c.$off("loaded",z),c.$off("error",I)})),E(()=>{L(()=>{var t;(t=o.value)!=null&&t.complete&&!e.lazyLoad&&S()})}),()=>{var t;return n("div",{class:l({round:e.round,block:e.block}),style:v.value},[D(),C(),(t=s.default)==null?void 0:t.call(s)])}}});const ie=$(se);const ce=(e,a)=>{const s=e.__vccOpts||e;for(const[r,i]of a)s[r]=i;return s},le={__name:"Home",setup(e){const a=J();K(),Q();const s=w({get(){return a.getters["common/getActivePage"]},set(r){a.dispatch("common/asyncUpdateActivePage",r)}});return E(()=>{s.value="home"}),(r,i)=>{const o=oe,c=ie,v=N,g=q;return X(),W(g,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:d(()=>[n(v,null,{default:d(()=>[n(c,{class:"swipe-img",src:"/bjtu-sse-edu/src/assets/swipe1.jpeg"},{loading:d(()=>[n(o,{type:"spinner",size:"20"})]),_:1})]),_:1}),n(v,null,{default:d(()=>[n(c,{class:"swipe-img",src:"/bjtu-sse-edu/src/assets/swipe2.jpg"},{loading:d(()=>[n(o,{type:"spinner",size:"20"})]),_:1})]),_:1})]),_:1})}}},me=ce(le,[["__scopeId","data-v-b0906389"]]);export{me as default};
